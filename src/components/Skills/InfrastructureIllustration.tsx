import React from 'react'
import styled from 'styled-components'
import { lighten } from 'polished'
import { motion } from 'motion/react'
import { ILLUSTRATION } from '../../animations/config'

interface InfrastructureIllustrationProps {
  personVisible?: boolean
}

const SvgWrapper = styled.div`
    overflow: visible;
    width: 100%;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    max-height: 420px;
    margin-top: -3rem;
    margin-bottom: 8rem;

    @media (max-width: 767.98px) {
        margin-top: -1.5rem;
        margin-bottom: 0;
    }
`;

const Svg = styled.svg`
  width: 100%;
  height: auto;
  overflow: visible !important;

  /* Scale down entire SVG by 30% */
  transform: scale(0.7);
  transform-origin: top center;

  .primaryColor {
    fill: ${props => props.theme.primaryColor};
  }
  .darkColor {
    fill: ${props => lighten(0.1, props.theme.black)};
  }
`

export function InfrastructureIllustration({
  personVisible = false
}: InfrastructureIllustrationProps) {
  return (
    <motion.div
      initial={{ opacity: 0, x: -20 }}
      animate={personVisible ? { opacity: 1, x: 0 } : { opacity: 0, x: -20 }}
      transition={{ duration: ILLUSTRATION.element.duration, delay: ILLUSTRATION.element.delay }}
    >
      <SvgWrapper>
        <Svg
          id="sitting-illustration"
          viewBox="-150 -50 560 520"
          xmlns="http://www.w3.org/2000/svg"
        >
        {/* Background blob */}
        <motion.path
          initial={{ opacity: 0 }}
          animate={personVisible ? { opacity: 0.5 } : { opacity: 0 }}
          transition={{ duration: ILLUSTRATION.element.duration, delay: ILLUSTRATION.element.delay + 0.1 }}
          d="M 162,94.8 C 129.81195,93.8403 99.15574,84.930003 69.877152,75.179436 40.59857,65.42887 11.608446,54.624763 -19.808717,49.459437 c -20.207038,-3.3227 -43.313601,-3.791886 -59.59661,5.498023 -15.666306,8.957214 -20.729253,24.376417 -23.454693,38.69517 -2.04408,10.7785 -3.25262,22.11579 2.36238,32.20332 3.894189,7.00368 10.812228,12.88984 15.596681,19.59923 16.641093,23.33993 4.878933,52.12244 -13.159698,74.91214 -8.454833,10.68896 -18.272383,20.90016 -24.802493,32.27157 -6.53012,11.3714 -9.54899,24.41907 -3.83949,36.02932 5.66474,11.51642 19.15765,20.14948 33.769589,26.22758 29.686403,12.3439 64.65459,15.87985 98.7822629,17.88031 75.5066201,4.43168 151.4210581,2.51228 227.1265981,0.59287 28.02032,-0.71231 56.15998,-1.43315 83.72273,-5.14826 15.30822,-2.06443 31.11377,-5.3402 42.22441,-13.22255 14.10463,-10.03634 17.60095,-27.03373 8.15146,-39.61648 -15.8553,-21.10917 -59.68116,-26.35553 -70.77689,-49.00875 -6.1024,-12.46759 0.16413,-26.3598 9.02677,-37.92314 19.01841,-24.81147 50.89312,-46.57324 52.57414,-74.93347 C 359.05227,94.04077 343.72913,74.535369 320.0357,65.31797 295.1984,55.656976 260.76237,56.872597 242.4502,72.863357 223.57106,89.31051 190.41817,95.64454 162,94.8 Z"
          className="primaryColor"
        />

        {/* Person body */}
        <motion.g
          id="body"
          animate={{ y: [0, -10, 0] }}
          transition={{
            repeat: Infinity,
            duration: 3,
            ease: "easeInOut"
          }}
        >
          {/* Head */}
          <g id="head">
            {/* Neck connector */}
            <rect height="47" width="27" fill="#F7B799" y="147.5" x="105.5"></rect>

            {/* Face shadow */}
            <path d="M104.4,172.5c-0.1,4.6,25.5,9.1,29.6-0.5c0,0-1,6.9-2.8,8.3c-1.8,1.3-12,8.5-12,8.5s-12.8-2.9-14.1-7.2C103.8,177.3,104.4,172.5,104.4,172.5z" opacity="0.1"></path>

            {/* Ears */}
            <g id="ears">
              <path d="M178.5,113.7L178.5,113.7c0-5.3-4-9.2-8.6-9.2h-11.5l-6.2,18.6c0,0.2,9.4,0.4,9.5,0.4h8.2C174.5,123.5,178.5,118.9,178.5,113.7z" fill="#F7B799"></path>
              <path d="M58.5,113.7L58.5,113.7c0-5.3,4-9.2,8.7-9.2h11.5l6.2,18.6c0,0.2-9.4,0.4-9.5,0.4h-8.2C62.5,123.5,58.5,118.9,58.5,113.7z" fill="#F7B799"></path>
            </g>

            {/* Chin */}
            <path d="M73.8,115.3c0-24.9,20.2,6.3,45.1,6.3s45.1-31.2,45.1-6.3s-20.2,45.1-45.1,45.1S73.8,140.2,73.8,115.3z" fill="#F7B799"></path>

            {/* Face */}
            <path d="M163.5,108.9c0,15.3-12.4,27.6-27.6,27.6h-33.7c-15.3,0-27.6-12.4-27.6-27.6V75.1c0-15.3,12.4-27.6,27.6-27.6h33.7c15.3,0,27.6,12.4,27.6,27.6V108.9z" fill="#F7B799"></path>

            {/* Mouth */}
            <path d="M127.2,131.5c0,0,0.7,0.6,0.8,2.1c0,0.7-0.1,1.5-0.6,2.3c-0.2,0.4-0.5,0.8-0.9,1.1c-0.4,0.3-0.8,0.5-1.3,0.8c-0.3,0.1-0.9,0.3-1.4,0.3c-0.5,0-1-0.1-1.4-0.2c-0.9-0.3-1.6-0.8-2-1.3c-0.9-1.1-0.7-2.1-0.8-2.1c0,0,0.1,0.2,0.4,0.4c0.2,0.3,0.6,0.6,1.1,0.8c0.5,0.3,1,0.4,1.6,0.5c0.3,0,0.6,0,0.9,0c0.3,0,0.5-0.1,0.9-0.2c0.2-0.1,0.5-0.2,0.8-0.4c0.2-0.2,0.5-0.4,0.7-0.6c0.4-0.4,0.7-1,0.9-1.5c0.2-0.5,0.3-1,0.3-1.3C127.2,131.8,127.2,131.5,127.2,131.5z" fill="#CE9A74"></path>

            {/* Hair */}
            <g id="hair">
              {/* Side hair */}
              <path d="M84.4,67c0,0-5.9,10-9,13.8c0,0,3.9,26.7-1.7,32.6c0,0-0.8-2.4-2.6-5.4c-1.8-3.1-6.5-37.2-4.7-42.3s6.1-13.8,12-12.8C84.4,54,84.4,67,84.4,67z" className="darkColor"></path>
              <path d="M164,114.4l0.1,0.1c0,0,6.8-27.6,6-36.6s-3.3-18.7-5.1-21.7c-1.8-3.1-10.7-5.6-12-2.8c-1.3,2.8-6.1,9-6.1,9s12.5,12,13,14.8c0.4,2.1,0.5,15.3-0.1,24.2C159.4,106.2,160.9,110.9,164,114.4z" className="darkColor"></path>

              {/* Stripe hair */}
              <path d="M72.9,59.6c0,0,33.5,22.5,72.7,7.7c0,0,17.4-1.8,22.3-11.8c0,0-6.1,1-7.2,1c-1,0,4.6-6.7,4.9-16.9c0.3-10.2-3.3-13.6-3.3-13.6s-5.9,10-10.5,11c0,0,2.6-8.7,2.3-13.3s0-6.1,0-6.1s-8.2,12-36.8,13.8c-28.7,1.8-39.1,3.1-43.2,7.7c-4.1,4.6-4.1,12.8-3.3,15.6S72.9,59.6,72.9,59.6z" className="darkColor"></path>
            </g>

            {/* Eyebrows */}
            <path d="M84.6,92c0,0,16.8-9.6,14.2-12.2C96.2,77.2,84.6,92,84.6,92z" className="darkColor"></path>
            <path d="M151.5,91.5c0,0-16.8-9.6-14.2-12.2C139.9,76.8,151.5,91.5,151.5,91.5z" className="darkColor"></path>

            {/* Eyes */}
            <circle r="5" cy="114" cx="98.4" className="darkColor"></circle>
            <circle r="5" cy="114" cx="136.9" className="darkColor"></circle>
          </g>

          {/* Body/Torso - Tshirt */}
          <g id="tshirt">
            <path d="M127.7,186.5c-8.3,0-23.5-7.9-25-13c-0.3-1.1,0.1-2.1,1.2-2.8c2.9-1.8,7.9-2.8,15-2.8c8.2,0,16.5,1.3,17.5,1.5c0,0.8-0.4,6-3.4,14.4C132.3,185.6,130.6,186.5,127.7,186.5z"></path>
            <path d="M118.8,168c8,0,16,1.2,17.4,1.4c-0.1,1.1-0.5,6.1-3.4,14.2c-0.6,1.7-2.3,2.6-5.2,2.6c-8.3,0-23.4-7.8-24.9-12.9c-0.3-1.1,0.1-2,1.1-2.6C106.8,168.9,111.8,168,118.8,168 M118.8,167.8c-5.8,0-11.7,0.6-15,2.8c-6.8,4.2,13.5,16,23.9,16c2.7,0,4.7-0.8,5.4-2.7c3.4-9.3,3.4-14.5,3.4-14.5S127.7,167.8,118.8,167.8L118.8,167.8z" fill="#2D2D2D"></path>
          </g>

          {/* Arms */}
          <g id="arms">
            <path d="M177.5,221.6c0,0,3.3,23.5,0,27.7s-14.5,0-16-5.8c-1.5-5.8-1.5-5.8-1.5-5.8s-0.2-6.8,2.9-9.2c3.1-2.4,3.4-2.7,3.4-2.7L177.5,221.6z" fill="#D3B39B"></path>
            <path d="M62.5,221.6c0,0-3.3,23.5,0,27.7c3.3,4.2,14.5,0,16-5.8c1.5-5.8,1.5-5.8,1.5-5.8s0.2-6.8-2.9-9.2c-3.1-2.4-3.4-2.7-3.4-2.7L62.5,221.6z" fill="#D3B39B"></path>
          </g>

          {/* Shirt */}
          <g id="shirt">
            <path d="M137.9,174.8c0,0,35.4,13.8,38.3,40.9l-11,11.5c0,0-0.5,67.7,1.9,71.6c0,0-20.1,12.2-33.3,15.1s-40-2.2-43.1-3.6c-3.1-1.4-15.3-10.8-15.3-10.8s2.6-9.8,2.4-13.9c-0.2-4.1,0.5-27.5,0.2-31.8c-0.2-4.3-1.2-19.9-1.2-19.9l-15.3-14.4c0,0,7.6-41.2,38.7-42.3c0,0,13,15.5,15.6,15.5s3.1,6.2,3.1,6.2s3.1-6.3,11-15.2z" className="primaryColor"></path>
            <polygon points="62.8,220.6 60.2,224.5 77,238.6 77.8,236.8 77.2,233.2" fill="#353535"></polygon>
            <polygon points="165.1,227.1 175.5,216.3 179.3,223.2 165.1,235.8" fill="#353535"></polygon>
          </g>

          {/* Notebook */}
          <g id="notebook">
            <path d="M212.5,295.1c0,1.9-1.5,3.4-3.4,3.4H33.9c-1.9,0-3.4-1.5-3.4-3.4v-1.3c0-1.9,1.5-3.4,3.4-3.4h175.3c1.9,0,3.4,1.5,3.4,3.4V295.1z" fill="#7F8DAA"></path>
            <path d="M212.5,289.7c0,3.8-3,6.8-6.8,6.8H37.3c-3.8,0-6.8-3-6.8-6.8V186.3c0-3.8,3-6.8,6.8-6.8h168.4c3.8,0,6.8,3,6.8,6.8V289.7z" fill="#292A2D"></path>
            <rect rx="3" width="15" height="15" x="-92.187965" y="245.78786" transform="rotate(-45)" className="primaryColor"></rect>
          </g>

          {/* Legs */}
          <g id="legs">
            {/* Main leg path */}
            <path d="M15.7,303.3c0,0-1.9-11.2,8-15c9.9-3.8,37,3.2,64.8,18.5c27.8,15.3,69.9-5.1,98-14.7c28.1-9.6,45.9-10.1,49.3,0.9c0,0-24.7,39.3-45.5,40.6s-48.2-1-48.2-1l-31.9,0.6c0,0-24.3,8.6-28.7,8.3C77,341.2,20.8,325.3,15.7,303.3z" fill="#212121"></path>

            {/* Shoe/foot details */}
            <path d="M91.2,333.1c0,0,20.3-12,21.9-11.5c1.6,0.5,6.9,5.9,9.1,6.9c2.2,1,1.6,3.7,1.6,3.7l-3,9.3l-22.3-1.9L91.2,333.1z" fill="#2B2B2B"></path>
            <polygon points="134.9,341.1 114.3,342 119.9,331 137.6,330.6 136.7,342.2" fill="#F7B799"></polygon>
            <polygon points="119,329.9 127.3,330.7 126,342.5 115.4,340.3" fill="#EAEAEA"></polygon>

            {/* Other leg */}
            <path d="M135.7,326.9l-1,27.8c0,0,55.2-2.9,87.4-33.8s2.2-37,2.2-37s-10.2-0.6-10.2,1.3C214.2,287,191.9,319.9,135.7,326.9z" className="darkColor"></path>

            {/* Hand detail */}
            <path d="M129.3,349.5c0,0,24.9-2.1,25.4-1.6c0.5,0.5,3.8,8.9,3.8,8.9l-34,1.4c0,0,1.1-5.3,1.8-6.5C126.9,350.5,129.3,349.5,129.3,349.5z" fill="#F7B799"></path>

            {/* Pants/shoe details */}
            <path d="M130.9,361c0.9-0.2-1.6-23.3-1.6-23.3s-68.3-5.1-98.3-45.6h0c-1.5-2.9-6.7-5.8-9.3-3.9l-2.3,1c-8.7,6.3-7.5,19.3-1.7,28.4c3.1,4.8,7.6,10.1,14.3,15.3C53.4,349.5,88.8,368.7,130.9,361z" className="darkColor"></path>
            <polygon points="157.2,358.6 149.4,357.8 146.4,347.8 155.8,347.3" fill="#EAEAEA"></polygon>

            {/* Other shoe */}
            <path d="M150.9,347c-0.7-0.5,12.3-10.4,13.4-10.2c1.1,0.2,11.6,9.4,12.8,9.4c1.1,0,27.8,8.5,25.2,16.4l-25.5-0.6l-19.9-1.1C156.8,360.9,155.3,350.7,150.9,347z" fill="#2B2B2B"></path>
          </g>
        </motion.g>

        {/* Shadow */}
        <g opacity="0.2">
          <path d="M1.5,406.1c0-1.2,1.9-1.8,5.4-2.8c6.2-1.8,17.3-4,32-5.3c22.5-2,53.4-2,87.4-3.3c19.6-0.7,41.2,1,58.8,1.9c39.1,1.9,65.9,5.2,65.9,9.6c0,4.4-26.9,8.2-66.4,10.1c-7.3,0.4-16.1-0.5-24.2-0.3c-11.1,0.3-21.9,1.6-34.1,1.6c-4.2,0-8.4,0-12.6-0.1c-9.2-0.1-18.1-0.3-26.6-0.5C37.3,415.4,1.5,411.1,1.5,406.1z" fill="#0A0A0A"></path>
        </g>
        </Svg>
      </SvgWrapper>
    </motion.div>
  )
}
